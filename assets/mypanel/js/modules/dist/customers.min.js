/*! 22-07-2017 */
$(document).ready(function(){$("#customer-form").formValidation({framework:"bootstrap",trigger:"blur",verbose:!1,icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh glyphicon-spin"},fields:{first_name:{validators:{notEmpty:{message:lang.line("validation_required").replace("{0}",lang.line("common_first_name"))}}},last_name:{validators:{notEmpty:{message:lang.line("validation_required").replace("{0}",lang.line("common_last_name"))}}},email:{validators:{notEmpty:{message:lang.line("validation_required").replace("{0}",lang.line("common_email"))},emailAddress:{message:lang.line("validation_email_match")},stringLength:{max:512,message:lang.line("validation_max_length").replace("{0}",lang.line("common_email")).replace("{1}",512)},remote:{async:!0,url:base_url($controller_name+"/InputValidator"),type:"POST",data:$.extend(csrf_form_base(),{person_id:$("#customer-form").attr("data-ved")})}}},rfc:{enabled:!1,validators:{remote:{async:!0,url:base_url($controller_name+"/InputValidator"),type:"POST",data:$.extend(csrf_form_base(),{person_id:$("#customer-form").attr("data-ved")})}}}}}).on("err.validator.fv",function(a,b){if("email"===b.field&&"remote"===b.validator){var c=b.result.not_valid;c?b.fv.updateMessage("email","remote",lang.line("validation_not_valid").replace("{0}",lang.line("common_email"))):b.fv.updateMessage("email","remote",lang.line("validation_in_use").replace("{0}",lang.line("common_email")))}if("rfc"===b.field&&"remote"===b.validator){var c=b.result.not_valid;c?b.fv.updateMessage("rfc","remote",lang.line("validation_not_valid").replace("{0}",lang.line($controller_name+"_rfc"))):b.fv.updateMessage("rfc","remote",lang.line("validation_in_use").replace("{0}",lang.line($controller_name+"_rfc")))}}).on("success.form.fv",function(a){a.preventDefault();var b=$(a.target);b.ajaxSubmit({url:b.attr("action"),dataType:"json",success:function(a){a.success?$(location).attr("href",base_url($controller_name)):$.notify(a.message,{type:"danger"})}})}).on("change",'[name="rfc"]',function(){var a=""==$(this).val();$("#customer-form").formValidation("enableFieldValidators","rfc",!a)})});